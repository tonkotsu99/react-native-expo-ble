# 可観測性要件 (iOS)

## ADDED Requirements

### Requirement: バックグラウンドイベント通知 (iOS)
システムは、デバッグモード時または重要な情報が必要な場合に、主要なバックグラウンドイベントに対してローカル通知をトリガーしなければならない（MUST）。

#### Scenario: ジオフェンス進入
- **前提** アプリがバックグラウンドにある
- **もし** デバイスがジオフェンス領域に入った場合
- **ならば** 通知「Geofence Entered」が即座に表示される。

#### Scenario: バックグラウンドスキャン実行
- **前提** バックグラウンドスキャンがトリガーされる（ジオフェンスまたは定期フェッチによる）
- **もし** スキャンが開始された場合
- **ならば** （デバッグのみ）通知「Background Scan Started」が表示される。

#### Scenario: 出席登録
- **前提** バックグラウンドスキャンがビーコンを検知した
- **もし** 出席 API 呼び出しが成功した場合
- **ならば** 通知「Attendance Recorded: [Device Name]」が表示される。

### Requirement: ログ標準
バックグラウンドタスクは、一貫したプレフィックスを使用して実行フローをコンソールにログ出力しなければならない（MUST）。

#### Scenario: ログプレフィックス
- **ジオフェンシング**: `[Geofencing Task]`
- **定期チェック**: `[Periodic Check]`
