# Design: Enhanced UI Richness

## Context

現在の UI は機能的だが、視覚的な魅力とユーザビリティが不足している。Tamagui の豊富なコンポーネントとアニメーション機能を活用して、モダンで直感的な UI を構築する。

## Goals / Non-Goals

**Goals:**

- 視覚的に魅力的で直感的なユーザーインターフェース
- アプリ状態の可視化によるユーザー理解の向上
- アニメーションとトランジションによる滑らかな操作感
- アクセシビリティとユーザビリティの向上
- ダークモード対応
- モバイルファーストのレスポンシブデザイン

**Non-Goals:**

- 既存の機能ロジックの変更
- パフォーマンスの犠牲
- 複雑すぎるアニメーション
- 不必要な装飾

## Decisions

### 1. 視覚的階層とレイアウト

**決定**: カード型レイアウトとグリッドシステムを採用
**理由**: コンテンツの論理的グループ化と視覚的分離を実現
**実装**: Tamagui の Card, XStack, YStack を活用したレスポンシブレイアウト

### 2. 状態可視化

**決定**: アプリ状態（OUTSIDE, INSIDE_AREA, PRESENT, UNCONFIRMED）を専用 UI コンポーネントで表示
**理由**: ユーザーが現在の状況を即座に把握できる
**実装**: 色彩とアイコンによる直感的な状態表現

### 3. アニメーション戦略

**決定**: Tamagui のアニメーション機能を活用したマイクロインタラクション
**理由**: ユーザーフィードバックの向上と操作の満足度向上
**実装**:

- 接続状態変更時のスムーズなトランジション
- ボタン押下時のスケール・色彩アニメーション
- スキャン中のパルスアニメーション

### 4. アイコンシステム

**決定**: Tamagui Lucide Icons を使用
**理由**: 既存の依存関係内で豊富なアイコンセットを活用
**実装**: 状態、アクション、ナビゲーションに対応するアイコン統合

### 5. ダークモード対応

**決定**: Tamagui のテーマシステムを活用したライト/ダークモード
**理由**: モダンアプリの標準機能、ユーザビリティ向上
**実装**: テーマプロバイダーとトグルコンポーネント

### 6. アクセシビリティ

**決定**: WCAG 2.1 AA 準拠のアクセシビリティ機能
**理由**: インクルーシブなデザインとユーザビリティ
**実装**:

- セマンティックラベリング
- 適切なコントラスト比
- フォーカス管理
- スクリーンリーダー対応

## Component Architecture

### 新規 Atoms

- `IconButton`: アイコン付きボタン
- `StatusIcon`: 状態表示用アイコン
- `AnimatedSpinner`: カスタムローディングアニメーション
- `ThemeToggleButton`: テーマ切り替えボタン

### 新規 Molecules

- `StatusCard`: 状態表示カード
- `ConnectionVisualization`: 接続状態ビジュアライゼーション
- `LogEntry`: 履歴エントリーコンポーネント
- `ProgressIndicator`: 進行状況表示

### 新規 Organisms

- `StatusDashboard`: 状態ダッシュボード
- `ActivityLog`: アクティビティログ
- `ConnectionPanel`: 接続パネル
- `SettingsPanel`: 設定パネル

### Enhanced Templates

- `EnhancedMainTemplate`: リッチ UI レイアウトテンプレート

## Migration Strategy

### Phase 1: 基盤整備

1. Lucide Icons の統合
2. テーマシステム拡張
3. 新規 Atoms の実装

### Phase 2: コンポーネント強化

1. 既存コンポーネントのビジュアル強化
2. アニメーション統合
3. 新規 Molecules 実装

### Phase 3: 高次コンポーネント

1. 新規 Organisms 実装
2. 状態ダッシュボード統合
3. 活動ログ機能

### Phase 4: 統合とポリッシュ

1. 全体レイアウトの最適化
2. アクセシビリティ検証
3. パフォーマンス最適化
